<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trial To Do List</title>
    <link rel="stylesheet" href="./mystyle.css">
</head>
<body>
    <div class="start1">
    <h1>To Do List App</h1>
    <hr>
    <br>
    <input type="text" class="input1">
    <br>
    <br>
    <button class="button1">Add</button>
    <br>
    <ol class="main">
       
    </ol>

    </div>


    <script>

        var list1 = [];


        function create_ul_li(){

            var listNode = document.createElement("li");

            var setClassValue = list1.length + 1;

            var class1 = "main"+setClassValue.toString();

            listNode.setAttribute("class",class1);

            listNode.textContent = document.querySelector(".input1").value+" ";

            function strikeOutText(){

                var requiredNode = document.querySelector("."+class1);

                var requiredText = (requiredNode.textContent).slice(0,((requiredNode.textContent).length-1));

                var strikeNode = document.createElement("s");

                strikeNode.textContent = requiredText;

                requiredNode.textContent = " ";

                requiredNode.appendChild(strikeNode);

                var listNodeButton = document.createElement("button");

                listNodeButton.textContent = "x";

                listNodeButton.setAttribute("class",class1+setClassValue.toString());

                listNodeButton.addEventListener("click", function(){
                    
                    var deleteNode = document.querySelector("."+class1);

                    deleteNode.remove();

                })

                listNode.appendChild(listNodeButton);
   
            }

            listNode.addEventListener("click", strikeOutText);

            // var listNodeButton = document.createElement("button");

            // listNodeButton.textContent = "x";

            // listNodeButton.setAttribute("class",class1+setClassValue.toString());

            // listNodeButton.addEventListener("click", function(){

            //     var deleteNode = document.querySelector("."+class1);

            //     deleteNode.remove();

            // })

            // listNode.appendChild(listNodeButton);

            list1.push(setClassValue);

            document.querySelector(".main").appendChild(listNode);

            document.querySelector(".input1").value = null;


            console.log(list1);



        }



        
        document.querySelector(".button1").addEventListener("click", function (){

            if(document.querySelector("input").value === ""){
                alert("enter a task");
            }

            else{
                create_ul_li();
            }

        });
            
        

    
    </script>

    
</body>
</html>